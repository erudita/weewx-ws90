[MQTTSubscribeDriver]
    # This section is for the MQTTSubscribe driver.

    # tested on GW2000, V3.2.6
    
    driver = user.MQTTSubscribe
    host = <mqtt host>
    port = 1883
    keepalive = 60
    log = true
    logging_level = INFO
    username = None
    password = None
    binding = loop
    max_loop_interval = 0
    
    # Controls if validation errors raise an exception (stopping WeeWX from starting) or only logged.
    # Default is false
    stop_on_validation_errors = true

    [[topics]]
        unit_system = METRICWX
        # your topic path example ecowitt/1C6920E3A8F3, unique to each gateway device
        [[[ecowitt/1C6920E3A8F3]]]   
           subscribe = True
           ignore = False
            [[[[message]]]]
                type = keyword
                keyword_delimiter = "&"
            # Ignore basic data
            [[[[PASSKEY]]]]
                ignore = True
            [[[[stationtype]]]]
                ignore = True
            [[[[runtime]]]]
                ignore = False
                name = runtime
            [[[[dateutc]]]]
                ignore = True
            [[[[freq]]]]
                ignore = True
            [[[[model]]]]
                ignore = True
            [[[[ws90_ver]]]]
                ignore = True
            # map MQTT field to WeeWX database field    
            [[[[baromrelin]]]]
                ignore = False
                name = barometer
                units = inHg
            [[[[baromabsin]]]]
                ignore = False
                name = pressure
                units = inHg
            [[[[batt1]]]]
                ignore = False
                name = batteryStatus1
            [[[[batt2]]]]
                ignore = False
                name = batteryStatus2
            [[[[dailyrainin]]]]
                ignore = False
                name = dayRain
		units = inch
		contains_total = true
            [[[[drain_piezo]]]]
                ignore = True
		contains_total = true
            [[[[eventrainin]]]]
                ignore = False
                name = eventRain
		units = inch
# rain start detection (WS90) - first drops
# status of 1 or 0. reset to 0 once top is dry or unchanged for set time 
# currently 30 minutes
            [[[[erain_piezo]]]]
                ignore = False
                name = eventRainPiezo
		units = inch
            [[[[srain_piezo]]]]
                ignore = False
                name = srain_piezo
            [[[[heap]]]]
                ignore = True
            [[[[hourlyrainin]]]]
                ignore = True
		name = hourRain
		contains_total = true
            [[[[hrain_piezo]]]]
                ignore = True
		contains_total = true
            [[[[humidity]]]]
                ignore = False
                name = outHumidity
            [[[[humidityin]]]]
                ignore = False
                name = inHumidity
            [[[[humidity1]]]]
                ignore = False
                name = extraHumid1
            [[[[humidity2]]]]
                ignore = False
                name = extraHumid2
            [[[[last24hrainin]]]]
                ignore = False
                name = rain24
                units = inch
            [[[[last24hrain_piezo]]]]
                ignore = False
                name = rainPiezo24
                units = inch
            [[[[monthlyrainin]]]]
                ignore = False
                name = monthRain
                units = inch
		#contains_total = true
            [[[[mrain_piezo]]]]
                ignore = False
                name = monthRainPiezo
                units = inch
		#contains_total = true

            [[[[rainratein]]]]
                ignore = False
                name = rainRate
                units = inch_per_hour
            [[[[rrain_piezo]]]]
                ignore = False
                name = hailRate
                units = inch_per_hour

            [[[[soilad1]]]]
                ignore = True
            [[[[soilad2]]]]
                ignore = True
            [[[[soilad3]]]]
                ignore = True
            [[[[soilad4]]]]
                ignore = True
            [[[[soilad5]]]]
                ignore = True
            [[[[soilad6]]]]
                ignore = True
            [[[[soilad7]]]]
                ignore = True
            [[[[soilad8]]]]
                ignore = True
            [[[[soilbatt1]]]]
               name = soilBatteryVoltage1
            [[[[soilbatt2]]]]
               name = soilBatteryVoltage2
            [[[[soilbatt3]]]]
               name = soilBatteryVoltage3
            [[[[soilbatt4]]]]
               name = soilBatteryVoltage4
            [[[[soilbatt5]]]]
               name = soilBatteryVoltage5
            [[[[soilbatt6]]]]
               name = soilBatteryVoltage6
            [[[[soilbatt7]]]]
               name = soilBatteryVoltage7
            [[[[soilbatt8]]]]
               name = soilBatteryVoltage8
            [[[[soilmoisture1]]]]
               name = soilMoist1
            [[[[soilmoisture2]]]]
               name = soilMoist2
            [[[[soilmoisture3]]]]
               name = soilMoist3
            [[[[soilmoisture4]]]]
               name = soilMoist4
            [[[[soilmoisture5]]]]
               name = soilMoist5
            [[[[soilmoisture6]]]]
               name = soilMoist6
            [[[[soilmoisture7]]]]
               name = soilMoist7
            [[[[soilmoisture8]]]]
               name = soilMoist8
            [[[[solarradiation]]]]
               name = radiation
            [[[[tempf]]]]
                ignore = False
               name = outTemp
               units = degree_F
            [[[[tempinf]]]]
                ignore = False
               name = inTemp
               units = degree_F
            [[[[temp1f]]]]
                ignore = False
               name = extraTemp1
               units = degree_F
            [[[[temp2f]]]]
                ignore = False
                name = extraTemp2
                units = degree_F
            [[[[totalrainin]]]]
                ignore = False
		contains_total = true
                name = rain
                units = inch
            [[[[uv]]]]
                ignore = False
                name = UV
            [[[[vpd]]]]
                ignore = True
            [[[[weeklyrainin]]]]
                ignore = true
            [[[[wrain_piezo]]]]
                ignore = true
            [[[[winddir_avg10m]]]]
                ignore = False
                name = windDirAvg10m
            [[[[winddir]]]]
                ignore = False
                name = windDirInstant
            [[[[windgustmph]]]]
                ignore = False
                name = windGust
                units = mile_per_hour
            [[[[windspeedmph]]]]
                ignore = False
                name = windSpeed
                units = mile_per_hour
            [[[[maxdailygust]]]]
                name = windGustMax
                units = mile_per_hour

# reuse database fields
            [[[[wh40batt]]]]
                name = consBatteryVoltage
            [[[[wh90batt]]]]
                name = supplyVoltage
            [[[[ws90cap_volt]]]]
                name = referenceVoltage

            [[[[yearlyrainin]]]]
                name = yearRain
                units = inch

            [[[[yrain_piezo]]]]
                name = hail
		contains_total = true
                units = inch
